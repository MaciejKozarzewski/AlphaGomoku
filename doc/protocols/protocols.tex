\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage[breaklinks]{hyperref}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{enumitem}

\title{Communication protocols specification}
\author{Maciej Kozarzewski}
\date{ }
\begin{document}
\maketitle

\tableofcontents

\section{Introduction}
This document describes the details of how protocols are implemented in AlphaGomoku (AG).


\newpage
\section{Gomocup Protocol}
Here are listed all Gomocup protocol \cite{newprotocol} commands that are implemented in AG with description of how they work in this particular program.

The move format is assumed to be \texttt{[column],[row]}, often abbreviated by [C],[R] or C,R.

\textbf{Note:} In order to use this protocol in AG, field "protocol" in the configuration file must be set to "gomocup".

\subsection{START [size]}
\label{cmd_start}
Upon receiving this command, engine sets the board size.

\textbf{Note:} In AG, [size] can be either 15 or 20. For any other value AG will respond with an \texttt{ERROR} message. This is later checked in combination with \texttt{INFO rule} value where also an \texttt{ERROR} can be sent.

\textbf{Note:} In contrary to the official protocol description, AG does not actually initialize itself here. \texttt{START} and \texttt{RESTART} commands just clear the board, while the former also sets board size.

\textbf{Note:} If logging to file is enabled, a new file will be created for every \texttt{START} command.


\subsection{TURN [C],[R]}
\label{cmd_turn}
This command is implemented exactly like in the protocol description. If \texttt{TURN [C],[R]} command is sent as the first one after \texttt{START}, engine will behave like if it received:\\
\texttt{BOARD} \\
\texttt{[C],[R],2} \\
\texttt{DONE}\\


\subsection{BEGIN}
\label{cmd_begin}
This command is implemented exactly like in the protocol description.


\subsection{BOARD}
\label{cmd_board}
This command is implemented exactly like in the protocol description.

\textbf{Note:} The third field (move type) value of 3 is not supported. 

\textbf{Note:} If the position is invalid (too many black or white stones, etc.), AG will respond with an \texttt{ERROR} message.

\textbf{Note:} AG will keep its cache from previous searches, clearing only those entries that are provably useless given the current board state. It means that if the same board is set two times in a row, in the second search AG will use all the information collected during the first search.


\subsection{INFO [key] [value]}
\label{cmd_info}
In theory AG can react to the change of any parameters even during search (except \texttt{rule} which must be specified before any search starts), but no guarantees are made if some contradictory values are sent. If anything goes wrong the error description might be found in the logfile.

\textbf{Note:} Official protocol description states that \textit{"The manager does not read messages from the brain when sending INFO command."} \cite{newprotocol}. This is why it was suggested that engine should wait with reponse to the \texttt{INFO} command until actual match is started. However AG responses immediately if an invalid \texttt{INFO} command was sent, assuming that the output is buffered and will eventually reach the manager when it will switch to reading messages.

\subsubsection{INFO timeout{\_}turn [x]}
\label{cmd_info_timeout_turn}
Sets the time limit for each move in milliseconds. If \text{$[x] < 0$} the time for move is unlimited.

\textbf{Note:} AG will end the search when it runs out of memory.

\textbf{Note:} AG parses [x] as 64 bit integer.

\textbf{Note:} If \text{$[x]=0$} is set, it may take some more time than exactly 0 ms for AG to respond.

\textbf{Note:} If remaining timeouts are set to be infinite, AG will search exactly for \texttt{timeout{\_}turn} milliseconds.

\subsubsection{INFO timeout{\_}match [x]}
\label{cmd_timeout_match}
Sets the time limit of a whole match in milliseconds.

\textbf{Note:} AG parses [x] as 64 bit integer.

\textbf{Note:} If \text{$[x] \leq 0$} the time for match is unlimited.

\subsubsection{INFO time{\_}left [x]}
\label{cmd_info_time_left}
Specifies how much time remains for the match in milliseconds.

\textbf{Note:} AG parses [x] as 64 bit integer.

\textbf{Note:} AG will end the search when it runs out of memory.

\subsubsection{INFO max{\_}memory [x]}
\label{cmd_info_max_memory}
Sets the memory limit in bytes.

\textbf{Note:} If \text{$[x]<=0$} memory usage is not limited.

\textbf{Note:} AG uses only as much memory as it needs, often lower than [x].

\textbf{Note:} If the memory limit is too low, AG may stop the search when it runs out of memory.

\textbf{Note:} This setting can be increased at any time. But lowering memory limit is only possible when the search is not running and will mean re-creating entire search tree from scratch.

\subsubsection{INFO game{\_}type [x]}
\label{cmd_info_game_type}
\textbf{Note:} This information is ignored by the AG.

\subsubsection{INFO rule [x]}
\label{cmd_info_rule}
Specifies the rules used for the game. A bitmask that can have several possible values:
\begin{enumerate}[leftmargin=7.5em]
	\item[\text{$[x]=0$}]{five or more wins - freestyle rule. Supported only for 20x20 and 15x15 board.}
	\item[\text{$[x]=1$}]{exactly five wins - standard rule. Supported only for 15x15 board.}
	\item[\text{$[x]=2$}]{continuous game - not supported.}
	\item[\text{$[x]=4$}]{renju rule. Supported only for 15x15 board.}
	\item[\text{$[x]=8$}]{freestyle caro rule (OXXXXXO is not a win, but OXXXXXXO is). Supported only for 15x15 board.}
	\item[\text{$[x]=9$}]{standard caro rule (OXXXXXO is not a win, OXXXXXXO is not a win too). Supported only for 15x15 board.}
\end{enumerate}

\textbf{Note:} This setting cannot be changed during the search.

\subsubsection{INFO evaluate [C],[R]}
\label{cmd_info_evaluate}
A request to evaluate move with coordinates [C],[R]. AG will answer with a \texttt{MESSAGE} with evaluation of the [C],[R] move at root, similar to the one sent after search ends.

\subsubsection{INFO folder [x]}
\label{cmd_info_folder}
\textbf{Note:} AG does not save any temporary data so this info is ignored.

\subsubsection{Default values}
Some parameters have default values so AG works even if no \texttt{INFO} was sent:
\begin{itemize}
\item{\textbf{timeout{\_}turn } = 5000 (5 seconds)}
\item{\textbf{timeout{\_}match} = $2^{53}$ ($\approx 285616$ years - effectively no limit)}
\item{\textbf{max{\_}memory} = 268435456 (256MB)}
\item{\textbf{time{\_}left} = $2^{53}$ ($\approx 285616$ years - effectively no limit)}
\item{\textbf{rule} = 0 (freestyle rule)}
\end{itemize}


\subsection{END}
\label{cmd_end}
This command is implemented exactly like in the protocol description.

\textbf{Note:} AG often exceeds GUI timeout limits because it needs to deallocate all its resources that can reach gigabytes of RAM memory (for long searches using GPUs).


\subsection{ABOUT}
\label{cmd_about}
AG will respond with following informations : "name", "version", "author", "country", "www", "email".


\subsection{RECTSTART [width],[height]}
\label{cmd_rectstart}
Rectangular boards are not supported in AG, but this command is implemented and will return an \texttt{ERROR} message.


\subsection{RESTART}
\label{cmd_restart}
AG behaves just like for \texttt{START} command keeping the previous settings.


\subsection{TAKEBACK [C],[R]}
\label{cmd_takeback}
This command \textbf{might not be} implemented like in the protocol description. This command can be used to undo \textbf{only the last move}. It can be used repeatedly to undo several moves, but they must be sent in the opposite order to the one in which they were played. During regular game this condition is obviously fulfilled. Problems may appear when trying to undo moves that were sent in the \texttt{BOARD} command as it may send moves in random order (while AG internally reorders them). If an incorrect last move was specified, AG will simply send an \texttt{ERROR} message with the description which move it considers to be the last one.


\subsection{UNKNOWN [error message]}
\label{cmd_unknown}
This command is implemented exactly like in the protocol description. 

\textbf{Note:} AG will send back the command that was not understood.


\subsection{ERROR [error message]}
\label{cmd_error}
This command is implemented exactly like in the protocol description.

\textbf{Note:} Usually AG will send some information about what went wrong.


\subsection{MESSAGE [message]}
\label{cmd_message}
Currently the only \texttt{MESSAGE} AG sends by itself, is the summary of the search sent every time search stops, either naturally or by \texttt{STOP} command. It has the following format:\\
\begin{enumerate}[leftmargin=7.5em]
\item[\textbf{depth [x]-[y]}]{the minimal [x] and maximal [y] depth of the search.

\textbf{Note:} Minimal is always 1 and maximal is taken as the length of principal variation.}
\item[\textbf{ev [x]}]{is the expectation outcome in {\%} (probability of $P_{win} + \frac{1}{2}P_{draw}$) or proven value - (L)oss, (D)raw, (W)in. with number representing number of moves to this outcome (for example W3 is a win in 3 moves)}
\item[\textbf{winrate [x]}]{is the probability of winning the game in {\%}}
\item[\textbf{drawrate [x]}]{is the probability of drawing the game in {\%}}
\item[\textbf{n [x]}]{is the number of evaluated nodes.}
\item[\textbf{n/s [x]}]{is the number of evaluated nodes per second.}
\item[\textbf{tm [x]}]{is the time used for this turn (in milliseconds).}
\item[\textbf{pv [x1] [x2] ...}]{is the principal variation.}
\end{enumerate}

Example:\\
\texttt{MESSAGE} depth 1-45 ev 60.1 winrate 56.7 drawrate 6.9 n 288959 n/s 12487 tm 23140 pv Xf4 Of6 Xe6 Of5 Xc5 Oc4 Xh5 Og7 Xh8 \\

Principal variation encoding format:
\begin{enumerate}[leftmargin=7.5em]
\item[\textbf{X} or \textbf{O}]{color - X is black, O is white.}
\item[\textbf{letter}]{column, from left to right, lowercase.}
\item[\textbf{number}]{row, from top to bottom, starting from 0.}
\end{enumerate}


\subsection{DEBUG [message]}
\label{cmd_debug}
AG does not send any \texttt{DEBUG} messages.


\newpage
\section{Extended Gomocup Protocol}
This protocol implements all commands from the base Gomocup protocol. Additionally it introduces new commands. Sometimes extends how the original ones work.

The move format is assumed to be \texttt{[column],[row]}, often abbreviated by [C],[R].

\textbf{Note:} In order to use this protocol in AG, field "protocol" in the configuration file must be set to "extended{\_}gomocup".

\subsection{SUGGEST [C],[R]}
\label{cmd_suggest}
If \texttt{INFO analysis{\_}mode} is set to \texttt{1}, engine will answer \texttt{BEGIN}, \texttt{BOARD} and \texttt{TURN} commands with \texttt{SUGGEST} [C],[R] instead of [C],[R] and will not change its internal state.

\textbf{Note:} The manager can send any command in response to \texttt{SUGGEST} except \texttt{TURN} and \texttt{TAKEBACK}.

\textbf{Note:} Pondering is never started automatically after \texttt{SUGGEST} response.


\subsection{PLAY [C],[R]}
\label{cmd_play}
It is used by the manager only as a respond to \texttt{SUGGEST} command. It imposes move [C],[R] to the engine. It must be answered by the engine with the same [C],[R] move as the sent one.


\subsection{Additional INFO keys}
\label{cmd_info_extension1}
In addition to the keys described earlier, also the following will be recognized.

\subsubsection{INFO evaluate [C1],[R1] [C2],[R2] ...}
The original \texttt{INFO evaluate} command is extended to handle arbitrary number of moves, so that they describe specific path within the tree. For example 
\begin{itemize}
\item{\texttt{INFO evaluate} without any parameters is a request for evaluation info of the current board state.}
\item{\texttt{INFO evaluate 3,4} is a request for evaluation info of the board state after making move [3],[4] from the current board state.}
\item{\texttt{INFO evaluate 3,4 5,6} is a request for evaluation info of the board state after making moves [3],[4] and [5],[6] from the current board state.}
\end{itemize}
If path specified in the command does not exist in the tree for any reason, the engine should send an empty \texttt{MESSAGE}.

\textbf{Note:} Sending excessive amounts of \texttt{INFO evaluate} commands during the search is discouraged as it can degrade engine performance.

\textbf{Note:} This commands returns information about moves from the perspective of the player to move. After a move has been returned from the search, AG internally switches to the opponent color so \texttt{INFO evaluate} command will not return information about moves in the previous board state.

\subsubsection{INFO analysis{\_}mode [x]}
Controls how engine responds to the \texttt{BEGIN}, \texttt{BOARD} and \texttt{TURN} commands. The allowed values are:
\begin{enumerate}[leftmargin=7.5em]
	\item[\text{$[x]=0$}]{engine will respond with the best move.}
	\item[\text{$[x]=1$}]{engine will respond with \texttt{SUGGEST}.}
\end{enumerate}

\subsubsection{INFO max{\_}depth [x]}
Sets maximum search depth. If \text{$[x]<0$} the search depth is unlimited.

\textbf{Note:} Since AG evaluates multiple nodes in parallel, it will stop as soon as the limit is reached but may exceed it by small amount.

\subsubsection{INFO max{\_}node [x]}
Sets maximum number of nodes. If \text{$[x]<=0$} the number of nodes is unlimited.

\textbf{Note:} Since AG evaluates multiple nodes in parallel, it will stop as soon as the limit is reached but may exceed it by small amount.

\subsubsection{INFO time{\_}increment [x]}
Sets amount of time that is added after each move (see Fischer time controls \cite{fischer}). Must not be negative.

\subsubsection{INFO auto{\_}pondering [x]}
Toggles the automatic pondering after each move. This command overrides the value of "auto{\_}pondering" loaded from the configuration file. Allowed values are:
\begin{enumerate}[leftmargin=7.5em]
	\item[\text{$[x]=0$}]{automatic pondering is turned off}
	\item[\text{$[x]=1$}]{automatic pondering is turned on}
\end{enumerate}

\textbf{Note:} This option does not start/stop the pondering by itself, only allows/forbids the engine to automatically start pondering.

\textbf{Note:} Pondering is never started automatically if \texttt{INFO analysis{\_}mode} is set to 1.

\subsubsection{INFO protocol{\_}lag [x]}
Sets the estimated protocol overhead i.e. the time difference (in milliseconds) between sending the message by the engine and receiving it by the GUI (and in the opposite direction). Must not be negative.

\subsubsection{INFO thread{\_}num [x]}
Sets maximum nuber of threads an engine can use. This command overrides the value of "thread{\_}num" loaded from the configuration file. Must be greater than 0. 

\textbf{Note:} If number of threads is changed during the search, AG would not adjust its number of threads until the search ends.

\subsubsection{Default values}
Some parameters have default values so the engine works even if no \texttt{INFO} was sent:
\begin{itemize}
\item{\textbf{analysis{\_}mode} = 0 (disabled)}
\item{\textbf{max{\_}depth } = 2147483647 (effectively no limit)}
\item{\textbf{max{\_}nodes} = 2147483647 (effectively no limit)}
\item{\textbf{time{\_}increment} = 0 ("sudden death" \cite{suddendeath} type time controls)}
\item{\textbf{auto{\_}pondering} = as loaded from configuration file}
\item{\textbf{protocol{\_}lag} \text{$ \approx 400$} (0.4s - varies from version to version)}
\item{\textbf{thread{\_}num} = as loaded from configuration file}
\end{itemize}


\subsection{PONDER [value]}
\label{cmd_ponder}
This command starts the search in pondering mode for [value] milliseconds. The pondering search mode differs from the regular search mode at one point - it will not output any best move at the end. If [value] is not specified or is negative, engine starts infinite pondering. In any case the pondering can be stopped using \texttt{STOP} command. Pondering mode exits automatically if any new position is set, either by \texttt{BEGIN}, \texttt{BOARD} or \texttt{TURN} command.


\subsection{STOP}
\label{cmd_stop}
This command stops the current search. If it was regular search, either the best move will be returned or \texttt{SUGGEST} message will be sent, depending on the \texttt{INFO analysis{\_}mode} settings. If it was pondering search it is simply stopped and no output is produced. Such interrupted pondering can be launched again by another \texttt{PONDER} command.


\subsection{BALANCE [n]}
\label{cmd_balance}
\textbf{Note:} Currently not implemented in AG.

This command is similar to the \texttt{BOARD} command but instead of searching for the best move, it searches for [n] moves that create the most balanced position (balanced position is such where neither player has an advantage). For example\\
\texttt{BALANCE 2} \\
\texttt{[C1],[R1],2} \\
\texttt{[C2],[R2],1} \\
\texttt{[C3],[R3],2} \\
\texttt{DONE}\\
will order the engine to find two moves that balance this 3-stone position. Value of [n] must be sctictly positive. Only [n]=1 and [n]=2 are required but the engine is encouraged to accept any values of [n]. If the rule is renju, the moves must be sent in the order they were played. For other rules the ordering may be random.

\textbf{Note:} Execution of \texttt{BALANCE} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{SHOWFORBID}
\label{cmd_showforbid}
This command is similar to the \texttt{BOARD} command but instead of searching for the best move, it returns all forbidden moves according to renju rule. The engine will respond with \texttt{FORBID} followed by the list of moves separated by spaces. For example\\
\texttt{SHOWFORBID}\\
\texttt{[C1],[R1],[S1]} \\
\texttt{[C2],[R2],[S2]} \\
\texttt{...}\\
\texttt{[Cn],[Rn],[Sn]} \\
\texttt{DONE}\\
and engine responds for example with\\
\texttt{FORBID 5,4 8,7 10,11}\\
If the rule is not renju or there are no forbidden moves on board, engine should respond with a \texttt{FORBID} message without any moves.

\textbf{Note:} Execution of \texttt{SHOWFORBID} command is \textbf{not} considered to be a "turn", so the engine \textbf{does not have to} obey the time controls. It is recommended (but not required) for the engine to be able to respond to this command at any time.


\subsection{CLEARHASH}
\label{cmd_clearhash}
Upon receiving this command the engine should clear its internal memory, so that the next search would start "fresh", without any data collected in previous searches. For example in $\alpha$-$\beta$ engines, this command probably will mean clearing the hashtable. Sending this command during the search will stop it.

\textbf{Note:} AG does not have such kind of hashtable like in $\alpha$-$\beta$ engines, but still there is some cache that will be cleared upon receiving this command.


\subsection{PROTOCOLVERSION}
\label{cmd_protocol_version}
The engine should answer to this command with the version number of implemented protocol.\\
\texttt{PROTOCOLVERSION} \\
\texttt{[major],[minor]} \\


\newpage
\subsection{SWAP1STBOARD}
\label{cmd_swap1st}
This command is used for swap after first opening rule \cite{renju_opening_rules}. It has two cases:

\subsubsection{Case 1}
The manager asks for the first stone:\\
\texttt{SWAP1STBOARD}\\
\texttt{DONE}\\
The engine answers with single move\\
\texttt{C1,R1}

\subsubsection{Case 2}
The manager sends the coordinates of the first stone and asks for the choice of options:\\
\texttt{SWAP1STBOARD}\\
\texttt{C1,R1}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C2,R2}]{the coordinates of the 2nd move if the engine decides to stay with white color}
\end{enumerate}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{SWAP1ST} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{SWAPBOARD}
\label{cmd_swap}
This command is used for swap opening rule \cite{gomoku_opening_rules}. It has two cases:

\subsubsection{Case 1}
The manager asks for the first three stones:\\
\texttt{SWAPBOARD}\\
\texttt{DONE}\\
The engine answers with three moves separated by spaces:\\
\texttt{C1,R1 C2,R2 C3,R3}

\subsubsection{Case 2}
The manager sends the coordinates of the first three stones and asks for the choice of options:\\
\texttt{SWAPBOARD}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C4,R4}]{the coordinate of the 4th move if the engine decides to stay with white color}
\end{enumerate}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{SWAPBOARD} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{SWAP2BOARD}
\label{cmd_swap2board}
This command is used for swap-2 opening rule \cite{renju_opening_rules}. It is described on Gomocup webpage and was included here for completeness. It has three cases:

\subsubsection{Case 1}
The manager asks for the first three stones:\\
\texttt{SWAP2BOARD}\\
\texttt{DONE}\\
The engine answers with three moves separated by spaces:\\
\texttt{C1,R1 C2,R2 C3,R3}

\subsubsection{Case 2}
The manager sends the coordinates of the first three stones and asks for the choice of options:\\
\texttt{SWAP2BOARD}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C4,R4}]{the coordinates of the 4th move if the engine decides to stay with white color}
\item[\texttt{C4,R4 C5,R5}]{the coordinates of the 4th and 5th stones if the engine decides to put two stones and let the opponent choose the color}
\end{enumerate}

\subsubsection{Case 3}
The manager sends the coordinates of the first five stones and asks for the choice of options:\\
\texttt{SWAP2BOARD}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{C5,R5}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C6,R6}]{the coordinates of the 6th move if the engine decides to stay with white color}
\end{enumerate}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{SWAP2BOARD} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{SWAP5}
\label{cmd_swap5}
This command is used for swap-5 opening rule \cite{renju_opening_rules}. It has three steps:

\subsubsection{SWAP5STEP1}
The manager asks for the first stone:\\
\texttt{SWAP5STEP1}\\
\texttt{DONE}\\
The engine answers with a single move, for example\\
\texttt{C1,R1}

\subsubsection{SWAP5STEP2}
This case will be repeated several times, each time the command will be sent to the appropriate player. The manager sends the coordinates of already placed stones (from 1 to 5) and asks for the choice of options:\\
\texttt{SWAP5STEP2}\\
\texttt{C1,R1}\\
\texttt{...}\\
\texttt{CN,RN}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C,R}]{the coordinates of the next move if the engine decides to stay with the current color}
\end{enumerate}

\subsubsection{SWAP5STEP3}
This case will be repeated several times, each time the command will be sent to the appropriate player. The manager sends the coordinates of already placed stones (from 1 to 5) and the engine must respond with the next move:\\
\texttt{SWAP5STEP3}\\
\texttt{C1,R1}\\
\texttt{...}\\
\texttt{CN,RN}\\
\texttt{DONE}\\
The engine answers with a single move, for example\\
\texttt{C,R}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{SWAP5BOARD} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{PROBOARD}
\label{cmd_pro}
This command is used for pro opening rule \cite{gomoku_opening_rules}. It has three cases:

\subsubsection{Case 1}
The manager asks for the first stone:\\
\texttt{PROBOARD}\\
\texttt{DONE}\\
The engine answers with a single move at the center of the board i.e. (width/2),(height/2) rounded down to the nearest integer. \\
\texttt{C1,R1}

\subsubsection{Case 2}
This case will be repeated several times, each time the command will be sent to the appropriate player. The manager sends the coordinates of already placed stones (from 1 to 5) and asks for the choice of options:\\
\texttt{PROBOARD}\\
\texttt{C1,R1}\\
\texttt{DONE}\\
The engine answers with the coordinates of the second move:
\texttt{C2,R2}

\subsubsection{Case 3}
This case will be repeated several times, each time the command will be sent to the appropriate player. The manager sends the coordinates of already placed stones (from 1 to 5) and the engine must respond with the next move:\\
\texttt{PROBOARD}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{DONE}\\
The engine answers with a single move that must be outside the central 5x5 square (center is defined by the position of the first stone), for example\\
\texttt{C3,R3}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{PROBOARD} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{LONGPROBOARD}
\label{cmd_longpro}
This command is used for long pro opening rule \cite{gomoku_opening_rules}. It is almost exactly like the \texttt{PRO} but the third move must be made outside of the central 7x7 square (instead of 5x5).


\subsection{RIF}
\label{cmd_rif}
This command is used for RIF opening rule \cite{renju_opening_rules}. It has five steps:

\subsubsection{RIFSTEP1}
The manager asks for the first three stones forming one of the 26 Renju openings (or any three stones for rules other than Renju):\\
\texttt{RIFSTEP1}\\
\texttt{DONE}\\
The engine answers with three moves separated by spaces, for example\\
\texttt{C1,R1 C2,R2 C3,R3}

\subsubsection{RIFSTEP2}
The manager sends the coordinates of the first three stones and asks for the choice of options:\\
\texttt{RIFSTEP2}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C4,R4}]{output the coordinate of the 4th move if the engine decides to stay with the current color}
\end{enumerate}

\subsubsection{RIFSTEP3}
If one of the player chosed to swap in the Case 2, the other player will be sent this variant. The manager sends the coordinates of the first three stones and asks for the 4th move:\\
\texttt{RIFSTEP3}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{DONE}\\
The engine answers with the coordinates of the 4th move:\\
\texttt{C4,R4}

\subsubsection{RIFSTEP4}
The manager sends the coordinates of four stones:\\
\texttt{RIFSTEP4}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{DONE}\\
The engine answers with two candidates for the 5th move separated by spaces (moves must not be symmetrical), for example\\
\texttt{C5a,R5a C5b,R5b}

\subsubsection{RIFSTEP5}
The manager sends the coordinates of four stones along with the two candidates for 5th move:\\
\texttt{RIFSTEP5}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{DONE}\\
\texttt{C5a,R5a C5b,R5b}\\
The engine answers with two moves, first must be one of the two offered 5th moves, while the other is the 6th move, for example\\
\texttt{C5,R5 C6,R6}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{RIF} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{YAMAGUCHI}
\label{cmd_yamaguchi}
This command is used for Yamaguchi opening rule \cite{renju_opening_rules}. It has five steps:

\subsubsection{YAMAGUCHISTEP1}
The manager asks for the first three stones forming one of the 26 Renju openings (or any three stones for rules other than Renju):\\
\texttt{YAMAGUCHISTEP1}\\
\texttt{DONE}\\
The engine answers with three moves separated by spaces and the number of offered 5th moves\\
\texttt{C1,R1 C2,R2 C3,R3 N}

\subsubsection{YAMAGUCHISTEP2}
The manager sends the coordinates of the first three stones along with the number of offered 5th moves and asks for the choice of options:\\
\texttt{YAMAGUCHISTEP2 N}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C4,R4}]{output the coordinate of the 4th move if the engine decides to stay with the current color}
\end{enumerate}

\subsubsection{YAMAGUCHISTEP3}
If one of the player chosed to swap in the Case 2, the other player will be sent this variant. The manager sends the coordinates of the first three stones along with the number of offered 5th moves and asks for the 4th move:\\
\texttt{YAMAGUCHISTEP3 N}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{DONE}\\
The engine answers with the coordinates of the 4th move:\\
\texttt{C4,R4}

\subsubsection{YAMAGUCHISTEP4}
The manager sends the coordinates of four stones along with the number of offered 5th moves:\\
\texttt{YAMAGUCHISTEP4 N}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{DONE}\\
The engine answers with N candidates for the 5th move separated by spaces (moves must not be symmetrical)\\
\texttt{C5a,R5a C5b,R5b C5c,R5c ...}

\subsubsection{YAMAGUCHISTEP5}
The manager sends the coordinates of four stones along with the candidates for 5th move:\\
\texttt{YAMAGUCHISTEP5 N}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{PLAY}\\
\texttt{C5a,R5a C5b,R5b C5c,R5c ...}
The engine answers with two moves, first must be one of the offered 5th moves, while the other is the 6th move, for example\\
\texttt{C5,R5 C6,R6}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{YAMAGUCHI} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{SOOSYRV}
\label{cmd_soosyrv}
This command is used for Soosyrv-N opening rule \cite{renju_opening_rules}. It has six steps:

\subsubsection{SOOSYRVSTEP1}
The manager asks for the first three stones forming one of the 26 Renju openings (or any three stones for rules other than Renju):\\
\texttt{SOOSYRVSTEP1 N}\\
\texttt{DONE}\\
The engine answers with three moves separated by spaces, for example\\
\texttt{C1,R1 C2,R2 C3,R3}

\subsubsection{SOOSYRVSTEP2}
The manager sends the coordinates of the first three stones along with the maximum number of offered 5th moves and asks for the choice of options:\\
\texttt{SOOSYRVSTEP2 N}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C4,R4} \texttt{M}]{the coordinate of the 4th move and the number of offered 5th moves (from 1 to N) if the engine decides to stay with the current color}
\end{enumerate}

\subsubsection{SOOSYRVSTEP3}
If one of the player chosed to swap in the Case 2, the other player will be sent this variant. The manager sends the coordinates of the first three stones along with the actual number of offered 5th moves and asks for the 4th move:\\
\texttt{SOOSYRVSTEP3 N}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{DONE}\\
The engine answers with the coordinates of the 4th move and the number of offered 5th moves (from 1 to N):\\
\texttt{C4,R4 \texttt{M}}

\subsubsection{SOOSYRVSTEP4}
The manager sends the coordinates of four stones along with the actual number of offered 5th moves (specified in the previous cases):\\
\texttt{SOOSYRVSTEP4 M}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[C5a,R5a C5b,R5b C5c,R5c ...]{M candidates for the 5th move separated by spaces (moves must not be symmetrical)}
\end{enumerate}

\subsubsection{SOOSYRVSTEP5}
If one of the player chosed to swap in the Case 4, the other player will be sent this variant. The manager sends the coordinates of four stones along with the actual number of offered 5th moves (specified in the previous cases):\\
\texttt{SOOSYRVSTEP5 M}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{DONE}\\
The engine answers with N candidates for the 5th move separated by spaces (moves must not be symmetrical)\\
\texttt{C5a,R5a C5b,R5b C5c,R5c ...}

\subsubsection{SOOSYRVSTEP6}
The manager sends the coordinates of four stones along with the candidates for 5th move:\\
\texttt{SOOSYRVSTEP6 M}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{DONE}\\
\texttt{C5a,R5a C5b,R5b C5c,R5c ...}
The engine answers with two moves, first must be one of the offered 5th moves, while the other is the 6th move:\\
\texttt{C5,R5 C6,R6}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{SOOSYRV} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{TARAGUCHI}
\label{cmd_taraguchi}
This command is used for Taraguchi opening rule \cite{renju_opening_rules}. It has two steps:

\subsubsection{TARAGUCHISTEP1}
The manager sends the coordinates of the first few stones along with the information how many 5th moves can be allowed:\\
\texttt{TARAGUCHISTEP1 N}\\
\texttt{C1,R1}\\
\texttt{...}\\
\texttt{CN,RN}\\
\texttt{DONE}\\
The engine answers with:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{C,R}]{the coordinates of the next move, 1st, 2nd, 3rd, 4th and 5th move must be within 1x1 (center), 3x3, 5x5, 7x7 and 9x9 central square, respectively. 6th move can be placed anywhere on the board}
\end{enumerate}

\subsubsection{TARAGUCHISTEP2}
If the opponent swapped colors in step 1 the manager will send this variant to the other player:\\
\texttt{TARAGUCHISTEP2 N}\\
\texttt{C1,R1}\\
\texttt{...}\\
\texttt{CN,RN}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C,R}]{the coordinates of the next move, 2nd, 3rd, 4th and 5th move must be within 3x3, 5x5, 7x7 and 9x9 central square, respectively. 6th move can be placed anywhere on the board}
\end{enumerate}

\subsubsection{TARAGUCHISTEP3}
If one of the player chosed to swap in the Case 4, the other player will be sent this variant. The manager sends the coordinates of four stones along with the actual number of offered 5th moves (specified in the previous cases):\\
\texttt{TARAGUCHISTEP3 N}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{DONE}\\
The engine answers with:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{C5a,R5a C5b,R5b ...}]{the coordinates of N candidates for the 5th move separated by spaces (moves must not be symmetrical)}
\texttt{}
\end{enumerate}

\subsubsection{TARAGUCHISTEP4}
The manager sends the coordinates of four stones along with the candidates for 5th move:\\
\texttt{TARAGUCHISTEP4 N}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{DONE}\\
\texttt{C5a,R5a C5b,R5b ...}
The engine answers with two moves, first must be one of the offered 5th moves, while the other is the 6th move:\\
\texttt{C5,R5 C6,R6}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{TARAGUCHI} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{SAKATA}
\label{cmd_sakata}
This command is used for SAKATA opening rule \cite{renju_opening_rules}. It has three steps:

\subsubsection{SAKATASTEP1}
The manager asks for the first three stones forming one of the 26 Renju openings (or any three stones for rules other than Renju):\\
\texttt{SAKATASTEP1}\\
\texttt{DONE}\\
The engine answers with three moves separated by spaces, for example\\
\texttt{C1,R1 C2,R2 C3,R3}

\subsubsection{SAKATASTEP2}
The manager sends the coordinates of the first three stones:\\
\texttt{SAKATASTEP2}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{DONE}\\
The engine answers with two moves:\\
\texttt{C4,R4 C5,R5} the coordinate of the 4th move (within 7x7 central square) and 5th move (within 9x9 central square)

\subsubsection{SAKATASTEP3}
The manager sends the coordinates of the first five stones:\\
\texttt{SAKATASTEP3}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{C4,R4}\\
\texttt{C5,R5}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C6,R6}]{the coordinates of the 6th move if the engine decides to stay with white color}
\end{enumerate}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{SAKATA} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{TARANNIKOV}
\label{cmd_tarannikov}
This command is used for SAKATA opening rule \cite{renju_opening_rules}. It has two steps:

\subsubsection{TARANNIKOVSTEP1}
The manager sends the coordinates of the first few stones along with the information how many 5th moves can be allowed:\\
\texttt{TARANNIKOVSTEP1}\\
\texttt{C1,R1}\\
\texttt{...}\\
\texttt{CN,RN}\\
\texttt{DONE}\\
The engine answers with:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{C,R}]{the coordinates of the next move, 1st, 2nd, 3rd, 4th and 5th move must be within 1x1 (center), 3x3, 5x5, 7x7 and 9x9 central square, respectively. 6th move can be placed anywhere on the board}
\end{enumerate}

\subsubsection{TARANNIKOVSTEP2}
If the opponent swapped colors in step 1 the manager will send this variant to the other player:\\
\texttt{TARANNIKOVSTEP2}\\
\texttt{C1,R1}\\
\texttt{...}\\
\texttt{CN,RN}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C,R}]{the coordinates of the next move, 2nd, 3rd, 4th and 5th move must be within 3x3, 5x5, 7x7 and 9x9 central square, respectively. 6th move can be placed anywhere on the board}
\end{enumerate}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{TARANNIKOV} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).


\subsection{LIANHUAN}
\label{cmd_lianhuan}
This command is used for LianHuan opening rule \cite{renju_opening_rules}. It has two steps:

\subsubsection{LIANHUANSTEP1}
The manager sends the coordinates of the first few stones:\\
\texttt{LIANHUANSTEP1}\\
\texttt{C1,R1}\\
\texttt{...}\\
\texttt{CN,RN}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{C,R}]{the coordinates of the next move}
\item[\texttt{Ca,Ra Cb,Rb}]{the coordinates of two next moves}
\end{enumerate}

\subsubsection{LIANHUANSTEP2}
If the opponent placed two moves in step 1 the player has the ability to swap:\\
\texttt{LIANHUANSTEP2}\\
\texttt{C1,R1}\\
\texttt{C2,R2}\\
\texttt{C3,R3}\\
\texttt{DONE}\\
The engine answers with one of the following:
\begin{enumerate}[leftmargin=7.5em]
\item[\texttt{SWAP}]{if the engine decides to swap}
\item[\texttt{C,R}]{the coordinates of the next move}
\item[\texttt{Ca,Ra Cb,Rb}]{the coordinates of two next moves}
\end{enumerate}

After the opening stage, the stones on the board will be treated as an opening for a traditional Gomocup match, and the manager will communicate with the engine using the classical Gomocup protocol in the rest of the match.

\textbf{Note:} Each step of the \texttt{LIANHUAN} command is considered to be a "turn", so the engine must obey the time controls (including \texttt{timeout{\_}turn}).



\newpage
\section{YixinBoard Protocol}
This protocol implements all commands from the base Gomocup protocol with modifications used by YixinBoard GUI \cite{yixinboard}.

The move format is assumed to be \texttt{[column],[row]}, often abbreviated by [C],[R].

The commands are case-insensitive (usually sent as lowercase).

\textbf{Note:} In order to use this protocol in AG, field "protocol" in the configuration file must be set to "yixinboard".

\subsection{start [x] or start [C],[R]}
\label{cmd_yxstart}
Single command that behaves as \texttt{START [x]} or \texttt{RECTSTART [C] [R]} in the original Gomocup protocol. It can also be used as replacement to the \texttt{RESTART} command (i.e. to clear the board).


\subsection{yxboard}
\label{cmd_yxboard}
This command is implemented exactly like in the specification \cite{yixinboard}.


\subsection{Additional INFO keys}
\label{cmd_ysinfo_extension1}
In addition to the keys described in the original Gomocup protocol, also the following will be recognized.

\subsubsection{INFO rule [x]}
\label{cmd_yxinfo_rule}
Specifies the rules used for the game. A bitmask that can have several possible values:
\begin{enumerate}[leftmargin=7.5em]
	\item[\text{$[x]=0$}]{five or more wins - freestyle rule. Supported only for 20x20 or 15x15 board.}
	\item[\text{$[x]=1$}]{exactly five wins - standard rule. Supported only for 15x15 board.}
	\item[\text{$[x]=2$}]{renju rule.}
\end{enumerate}

\textbf{Note:} This setting cannot be changed during the search.

\subsubsection{INFO usedatabase [x]}
Controls the usage of move database. The allowed values are:
\begin{enumerate}[leftmargin=7.5em]
	\item[\text{$[x]=0$}]{engine will use database}
	\item[\text{$[x]=1$}]{engine will not use database}
\end{enumerate}

\subsubsection{INFO max{\_}depth [x]}
Sets maximum search depth. 

\textbf{Note:} If \text{$[x]<0$} the search depth is unlimited.

\textbf{Note:} Since AG evaluates multiple nodes in parallel, it will stop as soon as the limit is reached but may exceed it by small amount.

\subsubsection{INFO max{\_}node [x]}
Sets maximum number of nodes.

\textbf{Note:} If \text{$[x]<0$} the search depth is unlimited.

\textbf{Note:} Since AG evaluates multiple nodes in parallel, it will stop as soon as the limit is reached but may exceed it by small amount.

\subsubsection{INFO time{\_}increment [x]}
Sets amount of time that is added after each move (see Fischer time controls \cite{fischer}).

\textbf{Note:} Must not be negative.

\subsubsection{INFO pondering [x]}
Toggles the automatic pondering after each move. This command overrides the value of "auto{\_}pondering" loaded from the configuration file. Allowed values are:
\begin{enumerate}[leftmargin=7.5em]
	\item[\text{$[x]=0$}]{automatic pondering is turned off}
	\item[\text{$[x]=1$}]{automatic pondering is turned on}
\end{enumerate}

\textbf{Note:} This option does not start/stop the pondering by itself, only allows/forbids the engine to automatically start pondering.

\textbf{Note:} Pondering is never started automatically if \texttt{INFO analysis{\_}mode} is set to 1.

\subsubsection{INFO nbest{\_}sym [x]}
Sets the number of moves to be searched during \texttt{yxnbest} search.

\subsubsection{INFO checkmate [x]}
Controls the search type. Allowed values are:
\begin{enumerate}[leftmargin=7.5em]
	\item[\text{$[x]=0$}]{global search}
	\item[\text{$[x]=1$}]{VCT1 search}
	\item[\text{$[x]=2$}]{VCT2 search}
\end{enumerate}

\subsubsection{INFO thread{\_}num [x]}
Sets maximum nuber of threads an engine can use. This command overrides the value of "thread{\_}num" loaded from the configuration file. Must be greater than 0. 

\textbf{Note:} If number of threads is changed during the search, AG would not adjust its number of threads until the search ends.

\subsubsection{INFO hash{\_}size [x]}
Sets maximum amount of memory an engine can use.

\subsubsection{INFO show{\_}detail [x]}
Toggles sending real-time information about search progress by the engine. Allowed values are:
\begin{enumerate}[leftmargin=7.5em]
	\item[\text{$[x]=0$}]{real-time info is not sent}
	\item[\text{$[x]=1$}]{real-time info is being sent}
\end{enumerate}

\subsubsection{Default values}
Some parameters have default values so the engine works even if no \texttt{INFO} was sent:
\begin{itemize}
\item{\textbf{rule} = 0 (freestyle rule)}
\item{\textbf{usedatabase} = 0 (disabled)}
\item{\textbf{max{\_}depth } = 2147483647 (effectively no limit)}
\item{\textbf{max{\_}nodes} = 2147483647 (effectively no limit)}
\item{\textbf{time{\_}increment} = 0 ("sudden death" \cite{suddendeath} type time controls)}
\item{\textbf{pondering} = as loaded from configuration file}
\item{\textbf{nbest{\_}sym} = 0}
\item{\textbf{checkmate} = 0 (global search)}
\item{\textbf{thread{\_}num} = as loaded from configuration file}
\item{\textbf{hash{\_}size} = 256 (256MB)}
\item{\textbf{show{\_}detail} = 0 (no real-time info)}
\end{itemize}

\subsection{yxhashclear}
This command is implemented exactly like in the protocol description.

\textbf{Note:} AG does not have a hashtable like $\alpha$-$\beta$ engines. This command clears the search tree instead, which achieves similar result.

\subsection{yxhashdump}
This command is used to save the hashtable to a file specified by the next line. For example:
\\
\texttt{yxhashdump}\\
\texttt{somepath/file}

\textbf{Note:} Currently not implemented in AG as it would require serialization of the entire search tree which is too complex for now.

\subsection{yxhashload}
This command is used to load the hashtable from a file specified by the next line. For example:
\\
\texttt{yxhashload}\\
\texttt{somepath/file}

\textbf{Note:} Currently not implemented in AG as it would require serialization of the entire search tree which is too complex for now.

\subsection{yxshowhashusage}
The engine should respond with a \texttt{MESSAGE} with information about hash usage.

\textbf{Note:} Currently not implemented in AG as it does not have a hashtable like $\alpha$-$\beta$ engines.



\begin{thebibliography}{99}
\bibitem{newprotocol}
Petr Laštovička, \href{http://petr.lastovicka.sweb.cz/protocl2en.htm}{New Gomocup Protocol}

\bibitem{swap2board}
Kai Sun, Tianyi Hao, \href{https://gomocup.org/news/experimental-tournament-update-2020/}{[Updated on 4/10] Experimental Tournament}

\bibitem{fischer}
\href{https://en.wikipedia.org/wiki/Time_control#Increment_and_delay_methods}{Fischer time control - Wikipedia}

\bibitem{suddendeath}
\href{https://en.wikipedia.org/wiki/Time_control#Sudden_death}{Time control - Wikipedia}

\bibitem{yixinboard}
\href{https://github.com/accreator/Yixin-protocol/blob/master/protocol.pdf}{YixinBoard protocol}

\bibitem{renju_opening_rules}
\href{https://www.renju.net/rule/}{Renju opening rules}

\bibitem{gomoku_opening_rules}
\href{http://gomokuworld.com/gomoku/2}{Gomoku opening rules}

\end{thebibliography}

\end{document}